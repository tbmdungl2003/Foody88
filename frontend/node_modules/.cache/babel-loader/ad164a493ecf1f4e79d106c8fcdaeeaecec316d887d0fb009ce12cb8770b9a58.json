{"ast":null,"code":"var _jsxFileName = \"D:\\\\ITSS\\\\frontend\\\\src\\\\page\\\\Login.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState } from \"react\";\nimport { TextField, Button, Box, Typography } from \"@mui/material\";\nimport { useNavigate } from \"react-router-dom\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport { loginAction } from \"../api/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const {\n    setAuth\n  } = useContext(AuthContext);\n  const navigate = useNavigate();\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      var _response$data$user$e, _response$data, _response$data$user, _response$data$user$u, _response$data2, _response$data2$user, _response$data3, _response$data3$user;\n      const response = await loginAction({\n        email,\n        password\n      });\n      const {\n        token\n      } = response.data;\n      console.log(response);\n      setAuth({\n        isAuthenticated: true,\n        user: {\n          email: (_response$data$user$e = response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : (_response$data$user = _response$data.user) === null || _response$data$user === void 0 ? void 0 : _response$data$user.email) !== null && _response$data$user$e !== void 0 ? _response$data$user$e : \"\",\n          username: (_response$data$user$u = response === null || response === void 0 ? void 0 : (_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : (_response$data2$user = _response$data2.user) === null || _response$data2$user === void 0 ? void 0 : _response$data2$user.username) !== null && _response$data$user$u !== void 0 ? _response$data$user$u : \"\",\n          userId: response === null || response === void 0 ? void 0 : (_response$data3 = response.data) === null || _response$data3 === void 0 ? void 0 : (_response$data3$user = _response$data3.user) === null || _response$data3$user === void 0 ? void 0 : _response$data3$user._id\n        }\n      });\n      localStorage.setItem(\"token\", token);\n\n      // Chuyển hướng đến trang chủ sau khi đăng nhập thành công\n      navigate(\"/home\");\n    } catch (error) {\n      console.error(\"Login failed:\", error); // Log lỗi để dễ dàng debug\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      maxWidth: 400,\n      margin: \"auto\",\n      mt: 10,\n      padding: 3,\n      boxShadow: 3,\n      borderRadius: 2\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      mb: 3,\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        label: \"Email\",\n        variant: \"outlined\",\n        fullWidth: true,\n        margin: \"normal\",\n        value: email,\n        onChange: e => setEmail(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        label: \"Password\",\n        type: \"password\",\n        variant: \"outlined\",\n        fullWidth: true,\n        margin: \"normal\",\n        value: password,\n        onChange: e => setPassword(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"contained\",\n        color: \"primary\",\n        fullWidth: true,\n        sx: {\n          mt: 2\n        },\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"qIwD1YCTpmcxuhDee6JKWNrp9uw=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useContext","useState","TextField","Button","Box","Typography","useNavigate","AuthContext","loginAction","jsxDEV","_jsxDEV","Login","_s","email","setEmail","password","setPassword","setAuth","navigate","handleSubmit","e","preventDefault","_response$data$user$e","_response$data","_response$data$user","_response$data$user$u","_response$data2","_response$data2$user","_response$data3","_response$data3$user","response","token","data","console","log","isAuthenticated","user","username","userId","_id","localStorage","setItem","error","sx","maxWidth","margin","mt","padding","boxShadow","borderRadius","children","variant","mb","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","label","fullWidth","value","onChange","target","type","color","_c","$RefreshReg$"],"sources":["D:/ITSS/frontend/src/page/Login.jsx"],"sourcesContent":["import React, { useContext, useState } from \"react\";\r\nimport { TextField, Button, Box, Typography } from \"@mui/material\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport { loginAction } from \"../api/api\";\r\n\r\nconst Login = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const { setAuth } = useContext(AuthContext);\r\n  const navigate = useNavigate();\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await loginAction({ email, password });\r\n      const { token } = response.data;\r\n      console.log(response);\r\n      setAuth({\r\n        isAuthenticated: true,\r\n        user: {\r\n          email: response?.data?.user?.email ?? \"\",\r\n          username: response?.data?.user?.username ?? \"\",\r\n          userId: response?.data?.user?._id,\r\n        },\r\n      });\r\n      localStorage.setItem(\"token\", token);\r\n\r\n      // Chuyển hướng đến trang chủ sau khi đăng nhập thành công\r\n      navigate(\"/home\");\r\n    } catch (error) {\r\n      console.error(\"Login failed:\", error); // Log lỗi để dễ dàng debug\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        maxWidth: 400,\r\n        margin: \"auto\",\r\n        mt: 10,\r\n        padding: 3,\r\n        boxShadow: 3,\r\n        borderRadius: 2,\r\n      }}\r\n    >\r\n      <Typography variant=\"h5\" mb={3}>\r\n        Login\r\n      </Typography>\r\n      <form onSubmit={handleSubmit}>\r\n        <TextField\r\n          label=\"Email\"\r\n          variant=\"outlined\"\r\n          fullWidth\r\n          margin=\"normal\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n        />\r\n        <TextField\r\n          label=\"Password\"\r\n          type=\"password\"\r\n          variant=\"outlined\"\r\n          fullWidth\r\n          margin=\"normal\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n        <Button\r\n          type=\"submit\"\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          fullWidth\r\n          sx={{ mt: 2 }}\r\n        >\r\n          Login\r\n        </Button>\r\n      </form>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}