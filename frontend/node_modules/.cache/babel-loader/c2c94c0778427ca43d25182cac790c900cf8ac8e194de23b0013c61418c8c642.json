{"ast":null,"code":"// import React, { useState, useCallback } from 'react';\n// import { Box, Button, Typography, Dialog, DialogTitle, DialogContent, DialogActions, styled } from '@mui/material';\n// import Wheel from 'react-wheel-of-prizes'; // <-- SỬ DỤNG LẠI THƯ VIỆN NÀY\n// import FastfoodIcon from '@mui/icons-material/Fastfood'; \n\n// // --- DỮ LIỆU CÁC MÓN ĂN CỐ ĐỊNH ---\n// const FOOD_OPTIONS = [\n//     'Phở Bò', 'Bún Chả', 'Nem Rán', 'Bánh Mì', 'Gỏi Cuốn', \n//     'Cơm Tấm', 'Mì Quảng', 'Hủ Tiếu', 'Bún Bò Huế', 'Cháo Lòng',\n//     'Bánh Xèo', 'Cao Lầu', 'Bún Đậu Mắm Tôm', 'Phở Cuốn', 'Bánh Gật Gù'\n// ];\n\n// // Định nghĩa màu sắc cho các ô trong vòng quay (đủ cho 15 món)\n// const WHEEL_COLORS = [\n//     '#FF6347', '#FFD700', '#ADFF2F', '#87CEEB', '#BA55D3', \n//     '#FF4500', '#DAA520', '#3CB371', '#4169E1', '#9370DB',\n//     '#F08080', '#DDA0DD', '#7B68EE', '#B0E0E6', '#FFDAB9'\n// ];\n\n// // Dữ liệu vòng quay (chỉ cần mảng option)\n// const wheelData = FOOD_OPTIONS.map((food, index) => ({\n//     option: food,\n// }));\n\n// // Styled component cho nút START nằm giữa vòng quay\n// const StyledSpinButton = styled(Button)(({ theme, isSpinning }) => ({\n//     position: 'absolute',\n//     top: '50%',\n//     left: '50%',\n//     transform: 'translate(-50%, -50%)',\n//     borderRadius: '50%',\n//     width: 120, // Kích thước nút lớn hơn\n//     height: 120, // Kích thước nút lớn hơn\n//     minWidth: 0,\n//     backgroundColor: isSpinning ? theme.palette.grey[400] : '#f7d057', // Màu vàng/xám\n//     color: isSpinning ? theme.palette.grey[700] : '#533c02', // Màu chữ\n//     fontWeight: 'bold',\n//     fontSize: '1.2rem', // Chữ lớn hơn\n//     boxShadow: theme.shadows[5],\n//     zIndex: 10, \n//     // pointerEvents: 'none', // BỎ DÒNG NÀY ĐỂ NÚT NÀY KÍCH HOẠT QUAY\n// }));\n\n// const SpinWheel = ({ onFoodSelected }) => {\n//     const [openResultDialog, setOpenResultDialog] = useState(false);\n//     const [openWheelModal, setOpenWheelModal] = useState(false); \n//     const [mustStartSpinning, setMustStartSpinning] = useState(false); \n//     const [prizeNumber, setPrizeNumber] = useState(0); \n//     const [finalPrize, setFinalPrize] = useState(''); \n//     const [isSpinning, setIsSpinning] = useState(false); \n\n//     // Xử lý khi vòng quay dừng lại\n//     const handleSpinStop = useCallback((prizeIndex) => {\n//         const selectedFood = FOOD_OPTIONS[prizeIndex];\n\n//         setFinalPrize(selectedFood);\n//         setMustStartSpinning(false); \n//         setIsSpinning(false); \n\n//         // Đóng Modal sau khi hiển thị kết quả\n//         setTimeout(() => {\n//             setOpenResultDialog(true);\n//             // Không đóng Modal vòng quay ngay để người dùng có thể thấy kết quả trên vòng quay một lát\n//             // setOpenWheelModal(false); \n//         }, 300);\n\n//         if (onFoodSelected) {\n//             onFoodSelected(selectedFood);\n//         }\n//     }, [onFoodSelected]);\n\n//     // Bắt đầu quay (Kích hoạt từ nút ở giữa vòng quay hoặc nút \"スタート\" bên dưới)\n//     const handleStartSpinning = () => {\n//         if (isSpinning) return; \n\n//         const randomIndex = Math.floor(Math.random() * FOOD_OPTIONS.length);\n//         setPrizeNumber(randomIndex);\n\n//         setMustStartSpinning(true); \n//         setIsSpinning(true);\n//     };\n\n//     // Mở Modal chứa vòng quay từ nút ở góc dưới\n//     const handleOpenWheel = () => {\n//         setOpenWheelModal(true);\n//     };\n\n//     const handleCloseResultDialog = () => {\n//         setOpenResultDialog(false);\n//         setFinalPrize('');\n//     };\n\n//     return (\n//         <Box sx={{ \n//             position: 'fixed', \n//             bottom: 30, \n//             right: 30, \n//             zIndex: 1000, \n//             display: 'flex',\n//             flexDirection: 'column',\n//             alignItems: 'center',\n//         }}>\n//             {/* 1. Nút nhỏ ở góc dưới bên phải để MỞ MODAL */}\n//             <Button\n//                 variant=\"contained\"\n//                 color=\"primary\"\n//                 size=\"large\"\n//                 sx={{\n//                     borderRadius: '50%', \n//                     width: 80,\n//                     height: 80,\n//                     minWidth: 0, \n//                     boxShadow: 6,\n//                     mb: 1, \n//                     '&:hover': {\n//                         transform: 'scale(1.05)',\n//                         transition: 'transform 0.2s ease-in-out',\n//                     }\n//                 }}\n//                 onClick={handleOpenWheel} \n//                 aria-label=\"Quay để chọn món ăn\"\n//             >\n//                 <FastfoodIcon sx={{ fontSize: 40 }} />\n//             </Button>\n//             <Typography variant=\"caption\" sx={{ color: 'text.secondary', fontWeight: 'bold' }}>Quay Món!</Typography>\n\n//             {/* 2. Modal chứa vòng quay TRÒN */}\n//             <Dialog\n//                 open={openWheelModal}\n//                 onClose={() => { \n//                     if (!isSpinning) { // Chỉ cho phép đóng Modal khi vòng quay không đang quay\n//                         setOpenWheelModal(false);\n//                     }\n//                 }} \n//                 maxWidth=\"sm\" \n//                 sx={{ \n//                     '& .MuiDialog-paper': { \n//                         p: 3, \n//                         borderRadius: 2, \n//                         textAlign: 'center',\n//                         backgroundColor: '#fefefe', \n//                         border: '2px solid #ddd',\n//                     } \n//                 }}\n//             >\n//                 <DialogTitle sx={{ p: 0, pb: 2 }}>\n//                     <Typography variant=\"h5\" sx={{ fontWeight: 'bold', color: 'text.primary' }}>\n//                         運命のルーレット (Vòng quay định mệnh)\n//                     </Typography>\n//                 </DialogTitle>\n//                 <DialogContent sx={{ p: 0, display: 'flex', justifyContent: 'center', alignItems: 'center', flexDirection: 'column' }}>\n//                     <Box sx={{ position: 'relative', width: 550, height: 550, display: 'flex', justifyContent: 'center', alignItems: 'center' }}> \n//                         <Wheel\n//                             mustStartSpinning={mustStartSpinning}\n//                             prizeNumber={prizeNumber}\n//                             data={wheelData}\n//                             onStopSpinning={handleSpinStop}\n\n//                             // 3. THIẾT KẾ TRÒN VÀ CHỮ\n//                             outerBorderColor=\"#ffd700\" \n//                             outerBorderWidth={10} \n//                             innerBorderColor=\"#ffd700\" \n//                             innerBorderWidth={15}\n//                             radiusLineColor=\"#333\"\n//                             radiusLineWidth={2}\n//                             perpendicularText // Text sẽ quay vuông góc với bán kính\n//                             textColors={['#ffffff']} \n//                             backgroundColors={WHEEL_COLORS}\n//                             fontSize={18} \n//                             textMargin={10} \n//                             spinDuration={8} \n//                         />\n//                         {/* Nút START tròn nằm giữa vòng quay */}\n//                         <StyledSpinButton \n//                             onClick={handleStartSpinning} // Nút này kích hoạt quay\n//                             disabled={isSpinning} \n//                         >\n//                             {isSpinning ? '...' : '開始'}\n//                         </StyledSpinButton>\n//                     </Box>\n\n//                     {/* 4. Nút \"スタート\" riêng biệt bên dưới vòng quay (MÀU XANH) */}\n//                     <Button\n//                         variant=\"contained\"\n//                         color=\"primary\" \n//                         size=\"large\"\n//                         sx={{ mt: 3, width: 200, py: 1.5, fontSize: '1.2rem' }}\n//                         onClick={handleStartSpinning} \n//                         disabled={isSpinning} \n//                     >\n//                         スタート (START)\n//                     </Button>\n//                 </DialogContent>\n//             </Dialog>\n\n//             {/* 5. Dialog hiển thị kết quả */}\n//             <Dialog open={openResultDialog} onClose={handleCloseResultDialog}>\n//                 <DialogTitle sx={{ textAlign: 'center' }}>Chúc mừng!</DialogTitle>\n//                 <DialogContent>\n//                     <Typography variant=\"h5\" align=\"center\" sx={{ my: 2 }}>\n//                         Món ăn được chọn là: <br />\n//                         <Box component=\"span\" sx={{ fontWeight: 'bold', color: 'primary.main' }}>{finalPrize}</Box>\n//                     </Typography>\n//                 </DialogContent>\n//                 <DialogActions>\n//                     <Button onClick={handleCloseResultDialog} color=\"primary\" autoFocus>\n//                         Đóng\n//                     </Button>\n//                 </DialogActions>\n//             </Dialog>\n//         </Box>\n//     );\n// };\n\n// export default SpinWheel;","map":{"version":3,"names":[],"sources":["D:/ITSS/frontend/src/components/SpinWheel.jsx"],"sourcesContent":["// import React, { useState, useCallback } from 'react';\r\n// import { Box, Button, Typography, Dialog, DialogTitle, DialogContent, DialogActions, styled } from '@mui/material';\r\n// import Wheel from 'react-wheel-of-prizes'; // <-- SỬ DỤNG LẠI THƯ VIỆN NÀY\r\n// import FastfoodIcon from '@mui/icons-material/Fastfood'; \r\n\r\n// // --- DỮ LIỆU CÁC MÓN ĂN CỐ ĐỊNH ---\r\n// const FOOD_OPTIONS = [\r\n//     'Phở Bò', 'Bún Chả', 'Nem Rán', 'Bánh Mì', 'Gỏi Cuốn', \r\n//     'Cơm Tấm', 'Mì Quảng', 'Hủ Tiếu', 'Bún Bò Huế', 'Cháo Lòng',\r\n//     'Bánh Xèo', 'Cao Lầu', 'Bún Đậu Mắm Tôm', 'Phở Cuốn', 'Bánh Gật Gù'\r\n// ];\r\n\r\n// // Định nghĩa màu sắc cho các ô trong vòng quay (đủ cho 15 món)\r\n// const WHEEL_COLORS = [\r\n//     '#FF6347', '#FFD700', '#ADFF2F', '#87CEEB', '#BA55D3', \r\n//     '#FF4500', '#DAA520', '#3CB371', '#4169E1', '#9370DB',\r\n//     '#F08080', '#DDA0DD', '#7B68EE', '#B0E0E6', '#FFDAB9'\r\n// ];\r\n\r\n// // Dữ liệu vòng quay (chỉ cần mảng option)\r\n// const wheelData = FOOD_OPTIONS.map((food, index) => ({\r\n//     option: food,\r\n// }));\r\n\r\n// // Styled component cho nút START nằm giữa vòng quay\r\n// const StyledSpinButton = styled(Button)(({ theme, isSpinning }) => ({\r\n//     position: 'absolute',\r\n//     top: '50%',\r\n//     left: '50%',\r\n//     transform: 'translate(-50%, -50%)',\r\n//     borderRadius: '50%',\r\n//     width: 120, // Kích thước nút lớn hơn\r\n//     height: 120, // Kích thước nút lớn hơn\r\n//     minWidth: 0,\r\n//     backgroundColor: isSpinning ? theme.palette.grey[400] : '#f7d057', // Màu vàng/xám\r\n//     color: isSpinning ? theme.palette.grey[700] : '#533c02', // Màu chữ\r\n//     fontWeight: 'bold',\r\n//     fontSize: '1.2rem', // Chữ lớn hơn\r\n//     boxShadow: theme.shadows[5],\r\n//     zIndex: 10, \r\n//     // pointerEvents: 'none', // BỎ DÒNG NÀY ĐỂ NÚT NÀY KÍCH HOẠT QUAY\r\n// }));\r\n\r\n// const SpinWheel = ({ onFoodSelected }) => {\r\n//     const [openResultDialog, setOpenResultDialog] = useState(false);\r\n//     const [openWheelModal, setOpenWheelModal] = useState(false); \r\n//     const [mustStartSpinning, setMustStartSpinning] = useState(false); \r\n//     const [prizeNumber, setPrizeNumber] = useState(0); \r\n//     const [finalPrize, setFinalPrize] = useState(''); \r\n//     const [isSpinning, setIsSpinning] = useState(false); \r\n\r\n//     // Xử lý khi vòng quay dừng lại\r\n//     const handleSpinStop = useCallback((prizeIndex) => {\r\n//         const selectedFood = FOOD_OPTIONS[prizeIndex];\r\n        \r\n//         setFinalPrize(selectedFood);\r\n//         setMustStartSpinning(false); \r\n//         setIsSpinning(false); \r\n        \r\n//         // Đóng Modal sau khi hiển thị kết quả\r\n//         setTimeout(() => {\r\n//             setOpenResultDialog(true);\r\n//             // Không đóng Modal vòng quay ngay để người dùng có thể thấy kết quả trên vòng quay một lát\r\n//             // setOpenWheelModal(false); \r\n//         }, 300);\r\n\r\n//         if (onFoodSelected) {\r\n//             onFoodSelected(selectedFood);\r\n//         }\r\n//     }, [onFoodSelected]);\r\n\r\n//     // Bắt đầu quay (Kích hoạt từ nút ở giữa vòng quay hoặc nút \"スタート\" bên dưới)\r\n//     const handleStartSpinning = () => {\r\n//         if (isSpinning) return; \r\n\r\n//         const randomIndex = Math.floor(Math.random() * FOOD_OPTIONS.length);\r\n//         setPrizeNumber(randomIndex);\r\n        \r\n//         setMustStartSpinning(true); \r\n//         setIsSpinning(true);\r\n//     };\r\n\r\n//     // Mở Modal chứa vòng quay từ nút ở góc dưới\r\n//     const handleOpenWheel = () => {\r\n//         setOpenWheelModal(true);\r\n//     };\r\n\r\n//     const handleCloseResultDialog = () => {\r\n//         setOpenResultDialog(false);\r\n//         setFinalPrize('');\r\n//     };\r\n\r\n//     return (\r\n//         <Box sx={{ \r\n//             position: 'fixed', \r\n//             bottom: 30, \r\n//             right: 30, \r\n//             zIndex: 1000, \r\n//             display: 'flex',\r\n//             flexDirection: 'column',\r\n//             alignItems: 'center',\r\n//         }}>\r\n//             {/* 1. Nút nhỏ ở góc dưới bên phải để MỞ MODAL */}\r\n//             <Button\r\n//                 variant=\"contained\"\r\n//                 color=\"primary\"\r\n//                 size=\"large\"\r\n//                 sx={{\r\n//                     borderRadius: '50%', \r\n//                     width: 80,\r\n//                     height: 80,\r\n//                     minWidth: 0, \r\n//                     boxShadow: 6,\r\n//                     mb: 1, \r\n//                     '&:hover': {\r\n//                         transform: 'scale(1.05)',\r\n//                         transition: 'transform 0.2s ease-in-out',\r\n//                     }\r\n//                 }}\r\n//                 onClick={handleOpenWheel} \r\n//                 aria-label=\"Quay để chọn món ăn\"\r\n//             >\r\n//                 <FastfoodIcon sx={{ fontSize: 40 }} />\r\n//             </Button>\r\n//             <Typography variant=\"caption\" sx={{ color: 'text.secondary', fontWeight: 'bold' }}>Quay Món!</Typography>\r\n            \r\n//             {/* 2. Modal chứa vòng quay TRÒN */}\r\n//             <Dialog\r\n//                 open={openWheelModal}\r\n//                 onClose={() => { \r\n//                     if (!isSpinning) { // Chỉ cho phép đóng Modal khi vòng quay không đang quay\r\n//                         setOpenWheelModal(false);\r\n//                     }\r\n//                 }} \r\n//                 maxWidth=\"sm\" \r\n//                 sx={{ \r\n//                     '& .MuiDialog-paper': { \r\n//                         p: 3, \r\n//                         borderRadius: 2, \r\n//                         textAlign: 'center',\r\n//                         backgroundColor: '#fefefe', \r\n//                         border: '2px solid #ddd',\r\n//                     } \r\n//                 }}\r\n//             >\r\n//                 <DialogTitle sx={{ p: 0, pb: 2 }}>\r\n//                     <Typography variant=\"h5\" sx={{ fontWeight: 'bold', color: 'text.primary' }}>\r\n//                         運命のルーレット (Vòng quay định mệnh)\r\n//                     </Typography>\r\n//                 </DialogTitle>\r\n//                 <DialogContent sx={{ p: 0, display: 'flex', justifyContent: 'center', alignItems: 'center', flexDirection: 'column' }}>\r\n//                     <Box sx={{ position: 'relative', width: 550, height: 550, display: 'flex', justifyContent: 'center', alignItems: 'center' }}> \r\n//                         <Wheel\r\n//                             mustStartSpinning={mustStartSpinning}\r\n//                             prizeNumber={prizeNumber}\r\n//                             data={wheelData}\r\n//                             onStopSpinning={handleSpinStop}\r\n                            \r\n//                             // 3. THIẾT KẾ TRÒN VÀ CHỮ\r\n//                             outerBorderColor=\"#ffd700\" \r\n//                             outerBorderWidth={10} \r\n//                             innerBorderColor=\"#ffd700\" \r\n//                             innerBorderWidth={15}\r\n//                             radiusLineColor=\"#333\"\r\n//                             radiusLineWidth={2}\r\n//                             perpendicularText // Text sẽ quay vuông góc với bán kính\r\n//                             textColors={['#ffffff']} \r\n//                             backgroundColors={WHEEL_COLORS}\r\n//                             fontSize={18} \r\n//                             textMargin={10} \r\n//                             spinDuration={8} \r\n//                         />\r\n//                         {/* Nút START tròn nằm giữa vòng quay */}\r\n//                         <StyledSpinButton \r\n//                             onClick={handleStartSpinning} // Nút này kích hoạt quay\r\n//                             disabled={isSpinning} \r\n//                         >\r\n//                             {isSpinning ? '...' : '開始'}\r\n//                         </StyledSpinButton>\r\n//                     </Box>\r\n                    \r\n//                     {/* 4. Nút \"スタート\" riêng biệt bên dưới vòng quay (MÀU XANH) */}\r\n//                     <Button\r\n//                         variant=\"contained\"\r\n//                         color=\"primary\" \r\n//                         size=\"large\"\r\n//                         sx={{ mt: 3, width: 200, py: 1.5, fontSize: '1.2rem' }}\r\n//                         onClick={handleStartSpinning} \r\n//                         disabled={isSpinning} \r\n//                     >\r\n//                         スタート (START)\r\n//                     </Button>\r\n//                 </DialogContent>\r\n//             </Dialog>\r\n\r\n//             {/* 5. Dialog hiển thị kết quả */}\r\n//             <Dialog open={openResultDialog} onClose={handleCloseResultDialog}>\r\n//                 <DialogTitle sx={{ textAlign: 'center' }}>Chúc mừng!</DialogTitle>\r\n//                 <DialogContent>\r\n//                     <Typography variant=\"h5\" align=\"center\" sx={{ my: 2 }}>\r\n//                         Món ăn được chọn là: <br />\r\n//                         <Box component=\"span\" sx={{ fontWeight: 'bold', color: 'primary.main' }}>{finalPrize}</Box>\r\n//                     </Typography>\r\n//                 </DialogContent>\r\n//                 <DialogActions>\r\n//                     <Button onClick={handleCloseResultDialog} color=\"primary\" autoFocus>\r\n//                         Đóng\r\n//                     </Button>\r\n//                 </DialogActions>\r\n//             </Dialog>\r\n//         </Box>\r\n//     );\r\n// };\r\n\r\n// export default SpinWheel;"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}